{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\questionnaire\\CreatePage.vue?vue&type=style&index=0&id=3f0272ab&scoped=true&lang=css&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\questionnaire\\CreatePage.vue","mtime":1593181572046},{"path":"F:\\github\\guetsurveystar\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCg0KLmNyZWF0ZS10aXRsZSB7DQogICAgbWFyZ2luLWJvdHRvbTogMjRweDsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGNvbG9yOiAjNzA3MDcwOw0KfQ0KDQouY3JlYXRlLXN1Yi10aXRsZSB7DQogICAgbWFyZ2luLXRvcDogMzZweDsNCiAgICBtYXJnaW4tYm90dG9tOiAyNHB4Ow0KICAgIGZvbnQtc2l6ZTogMTZweDsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgY29sb3I6ICM3MDcwNzA7DQp9DQoNCi5jcmVhdGUtY29udGVudCB7DQogICAgbWFyZ2luLXRvcDogMjRweDsNCn0NCg0KLmNyZWF0ZS1xdWVzdGlvbm5haXJlLWNhcmQgew0KICAgIG1hcmdpbi10b3A6IDE2cHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICBtaW4taGVpZ2h0OiAxMDBweDsNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQp9DQoNCi5jcmVhdGUtcXVlc3Rpb25uYWlyZS1mb3JtIHsNCiAgICBwYWRkaW5nOiAxNXB4Ow0KDQp9DQoNCi5jcmVhdGUtcXVlc3Rpb25uYWlyZS1kZXNjIHsNCiAgICBmb250LXNpemU6IDEwcHg7DQogICAgbWFyZ2luLXRvcDogMTZweDsNCiAgICBjb2xvcjogI0FBQUFBQTsNCn0NCg0KLmNyZWF0ZS1xdWVzdGlvbm5haXJlLWJ0bnsNCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgd2lkdGg6IDEwMCU7DQp9DQoNCi5lbC1idXR0b24gew0KICAgIHdpZHRoOiAxMDAlOw0KfQ0K"},{"version":3,"sources":["CreatePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0MA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"CreatePage.vue","sourceRoot":"src/components/questionnaire","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"create-content\" :style=\"marginStyle\">\r\n            <div class=\"create-title\">\r\n                请先填写一些问卷的基础信息\r\n            </div>\r\n            <el-row :gutter=\"10\">\r\n                <el-col :span=\"24\">\r\n                    <el-card shadow=\"hover\" class=\"create-questionnaire-form\">\r\n                        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\r\n\r\n                            <el-form-item label=\"问卷标题：\" prop=\"title\" label-width=\"100px\">\r\n                                <el-input v-model=\"form.title\" prefix-icon=\"el-icon-edit-outline\" placeholder=\"请输入问卷的标题(不能超过120个字)\" clearable></el-input>\r\n                            </el-form-item>\r\n\r\n                            <el-form-item label=\"分发对象：\" label-width=\"100px\">\r\n                                <el-select v-model=\"form.target\" placeholder=\"请选择\" style=\"width:100%\">\r\n                                    <el-option\r\n                                        v-for=\"item in options\"\r\n                                        :key=\"item.value\"\r\n                                        :label=\"item.label\"\r\n                                        :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n\r\n                        </el-form>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n            <div class=\"create-sub-title\">\r\n                请选择问卷类型\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"spans\" v-for=\"item in typeData\" :key=\"item.id\">\r\n                    <div @click=\"onClickCreateQuestionnaireCard(item.tid)\">\r\n                        <el-card :shadow=\"item.shadow\" class=\"create-questionnaire-card\">\r\n                            <i :class=\"item.icon\" :style=\"item.style\"></i>\r\n                            <span> {{ item.value }} </span>\r\n                            <div class=\"create-questionnaire-desc\"> {{ item.desc }} </div>\r\n                        </el-card>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n            <div class=\"create-sub-title\">\r\n                点击按钮即可完成创建\r\n            </div>\r\n            <div class=\"create-questionnaire-btn\">\r\n                <el-button type=\"primary\" @click=\"onClickCreateQuestionnaireBtn\" round> 创建问卷 </el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            tid: null,\r\n            spans: 6,\r\n            marginStyle: {\r\n                'margin-left': '20%',\r\n                'margin-right': '20%',\r\n            },\r\n            typeData: [\r\n                {\r\n                    id: 'qtype_common',\r\n                    tid: 0,\r\n                    value: '普通问卷',\r\n                    desc: '丰富题型，易于编辑',\r\n                    icon: 'el-icon-success',\r\n                    path: '/manage/feedback',\r\n                    style: {color: '#2672FF'},\r\n                    shadow: 'hover',\r\n\r\n                },\r\n                {\r\n                    id: 'qtype_class',\r\n                    tid: 1,\r\n                    value: '课程问卷',\r\n                    desc: '了解课程掌握情况',\r\n                    icon: 'el-icon-s-order',\r\n                    path: '/manage/help',\r\n                    style: {color: '#FFBD3A'},\r\n                    shadow: 'hover'\r\n                },\r\n                {\r\n                    id: 'qtype_vote',\r\n                    value: '毕业问卷',\r\n                    desc: '敬请期待...',\r\n                    icon: 'el-icon-s-data',\r\n                    path: '/logout',\r\n                    style: {color: '#00BF6F'},\r\n                    shadow: 'hover'\r\n                },\r\n                {\r\n                    id: 'qtype_more',\r\n                    value: '更多类型',\r\n                    desc: '敬请期待...',\r\n                    icon: 'el-icon-menu',\r\n                    path: '/logout',\r\n                    style: {color: '#FF6D56'},\r\n                    shadow: 'hover'\r\n                }\r\n            ],\r\n            options: [\r\n                {\r\n                    value: 2,\r\n                    label: '学生'\r\n                },\r\n                {\r\n                    value: 3,\r\n                    label: '应届毕业生'\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: '企业人员'\r\n                }\r\n            ],\r\n            form: {\r\n                title: '',\r\n                target: 2\r\n            },\r\n            rules: {\r\n                title: [\r\n                    { required: true, message: '问卷标题不能为空', trigger: 'blur' },\r\n                    { max: 120, message: '问卷标题不能超过120个字哦！', trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$emit('setActiveBreadItem', 'bread_create_page');\r\n        //挂载窗口宽度修改事件\r\n        this.onClientWidthChanged(document.body.clientWidth);\r\n        window.addEventListener('resize', () => {\r\n            this.onClientWidthChanged(document.body.clientWidth);\r\n        });\r\n\r\n    },\r\n    methods: {\r\n        //宽度变化设置\r\n        onClientWidthChanged(width) {\r\n            if (width >= 992) {\r\n                this.spans = 6;\r\n                let distance = parseInt(20 * (width / 1920)) + '%';\r\n                this.marginStyle['margin-left'] = distance;\r\n                this.marginStyle['margin-right'] = distance;\r\n\r\n            } else {\r\n                this.spans = 12;\r\n                this.marginStyle['margin-left'] = 0;\r\n                this.marginStyle['margin-right'] = 0;\r\n            }\r\n        },\r\n        //问卷类型卡片被点击\r\n        onClickCreateQuestionnaireCard(tid) {\r\n            if (tid != null) {\r\n                this.tid = tid;\r\n                this.typeData.forEach(item => {\r\n                    if (item.tid == tid) {\r\n                        item.shadow = 'always';\r\n                    } else {\r\n                        item.shadow = 'hover';\r\n                    }\r\n                });\r\n            }\r\n            else{\r\n                this.$message({message: \"暂不支持该问卷类型！敬请期待！\", duration:2000})\r\n            }\r\n\r\n        },\r\n        //点击创建按钮\r\n        onClickCreateQuestionnaireBtn() {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid && this.tid!=null) {\r\n                    this.$http.post('/questionnaire/create', {\r\n                        'type': this.tid,\r\n                        'title': this.form.title,\r\n                        'send_to': this.form.target\r\n                        })\r\n                        .then(response =>{\r\n                            let data = response.data;\r\n                            if (data.code == 0) {\r\n                                this.$router.push({name: 'questionnaire_edit_page',\r\n                                    params: {qid: data.data.id,title:this.form.title,type:this.tid}});\r\n                            } else if (data.code == 2) {\r\n                                this.$logout();\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            console.log('getQuestionnaireDataError', error);\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.create-title {\r\n    margin-bottom: 24px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    color: #707070;\r\n}\r\n\r\n.create-sub-title {\r\n    margin-top: 36px;\r\n    margin-bottom: 24px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    color: #707070;\r\n}\r\n\r\n.create-content {\r\n    margin-top: 24px;\r\n}\r\n\r\n.create-questionnaire-card {\r\n    margin-top: 16px;\r\n    text-align: center;\r\n    font-size: 18px;\r\n    min-height: 100px;\r\n    cursor: pointer;\r\n}\r\n\r\n.create-questionnaire-form {\r\n    padding: 15px;\r\n\r\n}\r\n\r\n.create-questionnaire-desc {\r\n    font-size: 10px;\r\n    margin-top: 16px;\r\n    color: #AAAAAA;\r\n}\r\n\r\n.create-questionnaire-btn{\r\n    text-align: center;\r\n    width: 100%;\r\n}\r\n\r\n.el-button {\r\n    width: 100%;\r\n}\r\n</style>\r\n"]}]}