{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\manage\\CoursePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\manage\\CoursePage.vue","mtime":1591920647996},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHNwYW5zOiA0LA0KICAgICAgICAgICAgY291cnNlRGF0YTogW10NCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgnc2V0QWN0aXZlTWVudUl0ZW0nLCAnL21hbmFnZS9jb3Vyc2UnKTsNCiAgICAgICAgLy/mjILovb3nqpflj6Plrr3luqbkv67mlLnkuovku7YNCiAgICAgICAgdGhpcy5vbkNsaWVudFdpZHRoQ2hhbmdlZChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTsNCiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHsNCiAgICAgICAgICAgIHRoaXMub25DbGllbnRXaWR0aENoYW5nZWQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7DQogICAgICAgIH0pOw0KICAgICAgICAvL+iOt+WPluivvueoi+S/oeaBrw0KICAgICAgICB0aGlzLmdldENvdXJzZURhdGEoKTsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy/lrr3luqblj5jljJborr7nva4NCiAgICAgICAgb25DbGllbnRXaWR0aENoYW5nZWQod2lkdGgpIHsNCiAgICAgICAgICAgIGlmICh3aWR0aCA+PSAxOTIwKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zcGFucyA9IDY7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHdpZHRoID49IDE0MDApIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNwYW5zID0gNjsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAod2lkdGggPj0gOTkyKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zcGFucyA9IDg7DQogICAgICAgICAgICB9IGVsc2UgaWYgKHdpZHRoID49IDc2OCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc3BhbnMgPSA4Ow0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICB0aGlzLnNwYW5zID0gMjQ7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8v6I635Y+W6K++56iL5L+h5oGvDQogICAgICAgIGdldENvdXJzZURhdGEoKSB7DQogICAgICAgICAgICB0aGlzLiRodHRwLmdldCgnL2NvdXJzZS9teWxlc3NvbicpDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT57DQogICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gcmVzcG9uc2UuZGF0YTsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3Vyc2VEYXRhID0gZGF0YS5kYXRhLmxlc3NvbnM7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5jb2RlID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ291dCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0Q291cnNlRGF0YUVycm9yJywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfQ0KfQ0K"},{"version":3,"sources":["CoursePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CoursePage.vue","sourceRoot":"src/components/manage","sourcesContent":["<template>\r\n    <div>\r\n        <el-row>\r\n            <el-col :span=\"spans\" v-for=\"item in courseData\" :key=\"item.lesson_code\">\r\n                <el-card class=\"col-card\" :body-style=\"{ padding: '0px' }\" shadow=\"hover\">\r\n                    <div class=\"card-bg\">\r\n                        <span class=\"card-title\"> {{ item.course_name }} </span>\r\n                        <span class=\"card-sub-title\">{{ item.grade }} - {{ item.major_name }}</span>\r\n                        <div>\r\n                            <span class=\"card-code\"><i class=\"el-icon-c-scale-to-original\">{{ item.lesson_code }}</i></span>\r\n                            <span class=\"card-term\">{{ item.term }}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-under-bg\">\r\n                        <span class=\"card-teacher\"><i class=\"el-icon-s-flag\">{{ item.teacher }}</i></span>\r\n                        <span class=\"card-total\"><i class=\"el-icon-s-custom\">人数：{{ item.total }}</i></span>\r\n                    </div>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            spans: 4,\r\n            courseData: []\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$emit('setActiveMenuItem', '/manage/course');\r\n        //挂载窗口宽度修改事件\r\n        this.onClientWidthChanged(document.body.clientWidth);\r\n        window.addEventListener('resize', () => {\r\n            this.onClientWidthChanged(document.body.clientWidth);\r\n        });\r\n        //获取课程信息\r\n        this.getCourseData();\r\n    },\r\n    methods: {\r\n        //宽度变化设置\r\n        onClientWidthChanged(width) {\r\n            if (width >= 1920) {\r\n                this.spans = 6;\r\n            } else if (width >= 1400) {\r\n                this.spans = 6;\r\n            } else if (width >= 992) {\r\n                this.spans = 8;\r\n            } else if (width >= 768) {\r\n                this.spans = 8;\r\n            } else {\r\n                this.spans = 24;\r\n            }\r\n        },\r\n        //获取课程信息\r\n        getCourseData() {\r\n            this.$http.get('/course/mylesson')\r\n                .then(response =>{\r\n                    let data = response.data;\r\n                    console.log(data);\r\n                    if (data.code == 0) {\r\n                        this.courseData = data.data.lessons;\r\n                    } else if (data.code == 2) {\r\n                        this.$logout();\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log('getCourseDataError', error);\r\n                });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.col-card {\r\n    margin: 5px;\r\n}\r\n\r\n.card-bg {\r\n    background: url('~@/assets/img/course-header.png') no-repeat;\r\n    background-size: 100% 100%;\r\n\t-moz-background-size: 100% 100%;\r\n    width: 100%;\r\n    display: inline-block;\r\n    padding: 6%;\r\n}\r\n\r\n.card-title {\r\n    display: block;\r\n    margin-right: 14%;\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    color: #ffffff;\r\n}\r\n\r\n.card-sub-title {\r\n    display: block;\r\n    margin-right: 14%;\r\n    font-size: 14px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    margin-bottom: 30px;\r\n    color: #ffffff;\r\n}\r\n\r\n.card-code {\r\n    display: inline-block;\r\n    margin-right: 14%;\r\n    font-size: 14px;\r\n    color: #ffffff;\r\n}\r\n\r\n.card-term {\r\n    display: inline-block;\r\n    float: right;\r\n    margin-top: 2px;\r\n    margin-right: 10%;\r\n    font-size: 14px;\r\n    color: #ffffff;\r\n}\r\n\r\n.card-under-bg {\r\n    padding: 4%;\r\n}\r\n\r\n.card-teacher {\r\n    display: inline-block;\r\n    color: #909399;\r\n    font-size: 14px;\r\n}\r\n\r\n.card-total {\r\n    display: inline-block;\r\n    float: right;\r\n    color: #909399;\r\n    font-size: 14px;\r\n}\r\n\r\n</style>\r\n"]}]}