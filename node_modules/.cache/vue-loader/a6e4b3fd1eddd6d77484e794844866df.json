{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\manage\\UserPage.vue?vue&type=style&index=0&id=119a22b8&scoped=true&lang=css&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\manage\\UserPage.vue","mtime":1593170850714},{"path":"F:\\github\\guetsurveystar\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQouZ3JpZC1yb3cgew0KICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgdGV4dC1hbGlnbjogY2VudGVyOw0KfQ0KDQouZ3JpZC1jb2wgew0KICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KfQ0KDQouZ3JpZC1jb2wtY2FyZCB7DQogICAgcGFkZGluZzogMnB4Ow0KfQ0KDQo="},{"version":3,"sources":["UserPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"UserPage.vue","sourceRoot":"src/components/manage","sourcesContent":["<template>\r\n    <div>\r\n        <el-row class=\"grid-row\">\r\n            <el-col :span=\"24\" class=\"grid-col\" v-show=\"tipVisiabled\">\r\n                <el-tag size=\"medium\" type=\"success\" @close=\"closeTip\" closable> {{ tip }} </el-tag>\r\n            </el-col>\r\n            <el-col :span=\"24\">\r\n                <el-table :data=\"tableData\" :header-cell-style=\"{background:'#eef1f6',color:'#606266'}\">\r\n                    <el-table-column type=\"index\" align=\"center\" label=\"#\"></el-table-column>\r\n                    <el-table-column prop=\"key\" align=\"center\" label=\"资料名\" >\r\n                        <template slot-scope=\"scope\">\r\n                            <el-tag size=\"medium\" type=\"primary\">{{ scope.row.key }}</el-tag>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"value\" align=\"center\" label=\"资料内容\"></el-table-column>\r\n                    <el-table-column align=\"center\" label=\"操作\">\r\n                        <template>\r\n                            <el-button size=\"mini\" round>编辑</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row class=\"grid-row\">\r\n            <el-col :span=\"8\" class=\"grid-col-card\" v-for=\"item in cardData\" :key=\"item.id\">\r\n                <el-card shadow=\"hover\">\r\n                    <el-button :icon=\"item.icon\" :type=\"item.type\" style=\"font-size: 32px;\" circle></el-button>\r\n                    <p> {{ item.value }} </p>\r\n                    <p>数量：{{ item.number }}</p>\r\n                </el-card>\r\n            </el-col>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            tip: '欢迎回来！',\r\n            tipVisiabled: true,\r\n            timer: null,\r\n            cardData: [\r\n                {id: 'user-prepare', value: '待发布', type: 'warning', icon: 'el-icon-s-opportunity', number: 0},\r\n                {id: 'user-doing', value: '未完成', type: 'danger', icon: 'el-icon-s-release', number: 0},\r\n                {id: 'user-done', value: '已完成', type: 'success', icon: 'el-icon-s-claim', number: 0}\r\n            ],\r\n\r\n            tableData: [\r\n                {key: '名字', value: '未命名'},\r\n                {key: '账号', value: 'NULL'},\r\n                {key: '密码', value: '********'},\r\n                {key: '用户类型', value: 'NULL'},\r\n                {key: '手机号', value: 'NULL'},\r\n                {key: '所属单位', value: 'NULL'},\r\n                {key: '地址', value: 'NULL'},\r\n            ]\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$emit('setActiveMenuItem', '/manage/user');\r\n        this.timer = self.setInterval(this.setTime, 1000);\r\n        this.getUserData();\r\n    },\r\n    methods: {\r\n        //计时器\r\n        setTime() {\r\n            let msg = '';\r\n            let date=new Date();\r\n            let hour = date.getHours();\r\n            let min = date.getMinutes();\r\n            let sec = date.getSeconds();\r\n            if (hour >= 0 && hour <6) {\r\n                msg = '欢迎回来！现在是凌晨，再休息会儿吧！';\r\n            } else if (hour >=6 && hour < 11) {\r\n                msg = '早上好！欢迎回来！';\r\n            } else if (hour >=11 && hour < 13) {\r\n                msg = '中午时间，欢迎回来！';\r\n            } else if (hour >=13 && hour < 18) {\r\n                msg = '下午好！欢迎回来！';\r\n            } else if (hour >=18 && hour < 24) {\r\n                msg = '欢迎回来！入夜了，早点休息吧';\r\n            }\r\n            this.tip = '时间：' + (hour < 10 ? '0'+hour : hour) + ':' + (min < 10 ? '0'+min : min) + ':' + (sec < 10 ? '0'+sec : sec) + '，' + msg;\r\n        },\r\n        //关闭提示\r\n        closeTip() {\r\n            this.tipVisiabled = false;\r\n            clearInterval(this.timer);\r\n        },\r\n        //获取用户信息\r\n        getUserData() {\r\n            this.$http.get('/user/info')\r\n                .then(response =>{\r\n                    let data = response.data;\r\n                    if (data.code == 0) {\r\n                        this.tableData = data.data.info;\r\n                        let status = data.data.questionnaire_status\r\n                        for (const t of this.cardData){\r\n                            if (t.id === 'user-prepare'){\r\n                                t.number = status.wait\r\n                            }\r\n                            else if (t.id === 'user-doing'){\r\n                                t.number = status.unfinished\r\n                            }\r\n                            else if (t.id === 'user-done'){\r\n                                t.number = status.finished\r\n                            }\r\n                        }\r\n                    } else if (data.code == 2) {\r\n                        this.$logout();\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log('getUserDataError', error);\r\n                });\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.grid-row {\r\n    margin-top: 10px;\r\n    text-align: center;\r\n}\r\n\r\n.grid-col {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.grid-col-card {\r\n    padding: 2px;\r\n}\r\n\r\n</style>\r\n"]}]}