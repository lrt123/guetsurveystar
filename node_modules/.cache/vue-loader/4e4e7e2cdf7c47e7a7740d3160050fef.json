{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\questionnaire\\CreatePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\questionnaire\\CreatePage.vue","mtime":1592048941782},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHNwYW5zOiA2LA0KICAgICAgICAgICAgbWFyZ2luU3R5bGU6IHsNCiAgICAgICAgICAgICAgICAnbWFyZ2luLWxlZnQnOiAnMjAlJywNCiAgICAgICAgICAgICAgICAnbWFyZ2luLXJpZ2h0JzogJzIwJScsDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdHlwZURhdGE6IFsNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlkOiAncXR5cGVfY29tbW9uJywgDQogICAgICAgICAgICAgICAgICAgIHRpZDogMCwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICfmma7pgJrpl67ljbcnLCANCiAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+S4sOWvjOmimOWei++8jOaYk+S6jue8lui+kScsDQogICAgICAgICAgICAgICAgICAgIGljb246ICdlbC1pY29uLXN1Y2Nlc3MnLCANCiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9tYW5hZ2UvZmVlZGJhY2snLCANCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtjb2xvcjogJyMyNjcyRkYnfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZDogJ3F0eXBlX2NsYXNzJywgDQogICAgICAgICAgICAgICAgICAgIHRpZDogMSwNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICfor77nqIvpl67ljbcnLCANCiAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+S6huino+ivvueoi+aOjOaPoeaDheWGtScsDQogICAgICAgICAgICAgICAgICAgIGljb246ICdlbC1pY29uLXMtb3JkZXInLCANCiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9tYW5hZ2UvaGVscCcsIA0KICAgICAgICAgICAgICAgICAgICBzdHlsZToge2NvbG9yOiAnI0ZGQkQzQSd9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlkOiAncXR5cGVfdm90ZScsIA0KICAgICAgICAgICAgICAgICAgICB0aWQ6IDIsDQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAn5q+V5Lia6Zeu5Y23JywgDQogICAgICAgICAgICAgICAgICAgIGRlc2M6ICfmr5XkuJropoHmsYLovr7miJDmg4XlhrXosIPmn6UnLA0KICAgICAgICAgICAgICAgICAgICBpY29uOiAnZWwtaWNvbi1zLWRhdGEnLCANCiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9sb2dvdXQnLCANCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtjb2xvcjogJyMwMEJGNkYnfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZDogJ3F0eXBlX21vcmUnLCANCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICfmm7TlpJrnsbvlnosnLCANCiAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+aVrOivt+acn+W+hS4uLicsDQogICAgICAgICAgICAgICAgICAgIGljb246ICdlbC1pY29uLW1lbnUnLCANCiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy9sb2dvdXQnLCANCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtjb2xvcjogJyNGRjZENTYnfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBvcHRpb25zOiBbDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMiwNCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICflrabnlJ8nDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAzLA0KICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+W6lOWxiuavleS4mueUnycNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDUsDQogICAgICAgICAgICAgICAgICAgIGxhYmVsOiAn5LyB5Lia5Lq65ZGYJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBmb3JtOiB7DQogICAgICAgICAgICAgICAgdGl0bGU6ICcnLA0KICAgICAgICAgICAgICAgIHRhcmdldDogMg0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHJ1bGVzOiB7DQogICAgICAgICAgICAgICAgdGl0bGU6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+mXruWNt+agh+mimOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IG1heDogMTIwLCBtZXNzYWdlOiAn6Zeu5Y235qCH6aKY5LiN6IO96LaF6L+HMTIw5Liq5a2X5ZOm77yBJywgdHJpZ2dlcjogJ2JsdXInIH0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ3NldEFjdGl2ZUJyZWFkSXRlbScsICdicmVhZF9jcmVhdGVfcGFnZScpOw0KICAgICAgICAvL+aMgui9veeql+WPo+WuveW6puS/ruaUueS6i+S7tg0KICAgICAgICB0aGlzLm9uQ2xpZW50V2lkdGhDaGFuZ2VkKGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpOw0KICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5vbkNsaWVudFdpZHRoQ2hhbmdlZChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTsNCiAgICAgICAgfSk7DQogICAgICAgIA0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgICAvL+WuveW6puWPmOWMluiuvue9rg0KICAgICAgICBvbkNsaWVudFdpZHRoQ2hhbmdlZCh3aWR0aCkgew0KICAgICAgICAgICAgaWYgKHdpZHRoID49IDk5Mikgew0KICAgICAgICAgICAgICAgIHRoaXMuc3BhbnMgPSA2Ow0KICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IHBhcnNlSW50KDIwICogKHdpZHRoIC8gMTkyMCkpICsgJyUnOw0KICAgICAgICAgICAgICAgIHRoaXMubWFyZ2luU3R5bGVbJ21hcmdpbi1sZWZ0J10gPSBkaXN0YW5jZTsNCiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpblN0eWxlWydtYXJnaW4tcmlnaHQnXSA9IGRpc3RhbmNlOw0KDQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIHRoaXMuc3BhbnMgPSAxMjsNCiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpblN0eWxlWydtYXJnaW4tbGVmdCddID0gMDsNCiAgICAgICAgICAgICAgICB0aGlzLm1hcmdpblN0eWxlWydtYXJnaW4tcmlnaHQnXSA9IDA7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uQ2xpY2tDcmVhdGVRdWVzdGlvbm5haXJlQnRuKHRpZCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQgJiYgdGlkIT1udWxsKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAucG9zdCgnL3F1ZXN0aW9ubmFpcmUvY3JlYXRlJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiB0aWQsDQogICAgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiB0aGlzLmZvcm0udGl0bGUsDQogICAgICAgICAgICAgICAgICAgICAgICAnc2VuZF90byc6IHRoaXMuZm9ybS50YXJnZXQNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAncXVlc3Rpb25uYWlyZV9lZGl0X3BhZ2UnLCBwYXJhbXM6IHtxaWQ6IGRhdGEuZGF0YS5pZH19KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuY29kZSA9PSAyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ291dCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRRdWVzdGlvbm5haXJlRGF0YUVycm9yJywgZXJyb3IpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["CreatePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreatePage.vue","sourceRoot":"src/components/questionnaire","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"create-content\" :style=\"marginStyle\">\r\n            <div class=\"create-title\">\r\n                请先填写一些问卷的基础信息\r\n            </div>\r\n            <el-row :gutter=\"10\">\r\n                <el-col :span=\"24\">\r\n                    <el-card shadow=\"hover\" class=\"create-questionnaire-form\">\r\n                        <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\r\n\r\n                            <el-form-item label=\"问卷标题：\" prop=\"title\" label-width=\"100px\">\r\n                                <el-input v-model=\"form.title\" prefix-icon=\"el-icon-edit-outline\" placeholder=\"请输入问卷的标题(不能超过120个字)\" clearable></el-input>\r\n                            </el-form-item>\r\n\r\n                            <el-form-item label=\"分发对象：\" label-width=\"100px\">\r\n                                <el-select v-model=\"form.target\" placeholder=\"请选择\" style=\"width:100%\">\r\n                                    <el-option\r\n                                        v-for=\"item in options\"\r\n                                        :key=\"item.value\"\r\n                                        :label=\"item.label\"\r\n                                        :value=\"item.value\">\r\n                                    </el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n\r\n                        </el-form>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n            <div class=\"create-sub-title\">\r\n                请选择问卷类型完成创建\r\n            </div>\r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"spans\" v-for=\"item in typeData\" :key=\"item.id\">\r\n                    <div @click=\"onClickCreateQuestionnaireBtn(item.tid)\">\r\n                        <el-card shadow=\"hover\" class=\"create-questionnaire-card\">\r\n                            <i :class=\"item.icon\" :style=\"item.style\"></i>\r\n                            <span> {{ item.value }} </span>\r\n                            <div class=\"create-questionnaire-desc\"> {{ item.desc }} </div>\r\n                        </el-card>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            spans: 6,\r\n            marginStyle: {\r\n                'margin-left': '20%',\r\n                'margin-right': '20%',\r\n            },\r\n            typeData: [\r\n                {\r\n                    id: 'qtype_common', \r\n                    tid: 0,\r\n                    value: '普通问卷', \r\n                    desc: '丰富题型，易于编辑',\r\n                    icon: 'el-icon-success', \r\n                    path: '/manage/feedback', \r\n                    style: {color: '#2672FF'}\r\n                },\r\n                {\r\n                    id: 'qtype_class', \r\n                    tid: 1,\r\n                    value: '课程问卷', \r\n                    desc: '了解课程掌握情况',\r\n                    icon: 'el-icon-s-order', \r\n                    path: '/manage/help', \r\n                    style: {color: '#FFBD3A'}\r\n                },\r\n                {\r\n                    id: 'qtype_vote', \r\n                    tid: 2,\r\n                    value: '毕业问卷', \r\n                    desc: '毕业要求达成情况调查',\r\n                    icon: 'el-icon-s-data', \r\n                    path: '/logout', \r\n                    style: {color: '#00BF6F'}\r\n                },\r\n                {\r\n                    id: 'qtype_more', \r\n                    value: '更多类型', \r\n                    desc: '敬请期待...',\r\n                    icon: 'el-icon-menu', \r\n                    path: '/logout', \r\n                    style: {color: '#FF6D56'}\r\n                }\r\n            ],\r\n            options: [\r\n                {\r\n                    value: 2,\r\n                    label: '学生'\r\n                },\r\n                {\r\n                    value: 3,\r\n                    label: '应届毕业生'\r\n                },\r\n                {\r\n                    value: 5,\r\n                    label: '企业人员'\r\n                }\r\n            ],\r\n            form: {\r\n                title: '',\r\n                target: 2\r\n            },\r\n            rules: {\r\n                title: [\r\n                    { required: true, message: '问卷标题不能为空', trigger: 'blur' },\r\n                    { max: 120, message: '问卷标题不能超过120个字哦！', trigger: 'blur' }\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$emit('setActiveBreadItem', 'bread_create_page');\r\n        //挂载窗口宽度修改事件\r\n        this.onClientWidthChanged(document.body.clientWidth);\r\n        window.addEventListener('resize', () => {\r\n            this.onClientWidthChanged(document.body.clientWidth);\r\n        });\r\n        \r\n    },\r\n    methods: {\r\n        //宽度变化设置\r\n        onClientWidthChanged(width) {\r\n            if (width >= 992) {\r\n                this.spans = 6;\r\n                let distance = parseInt(20 * (width / 1920)) + '%';\r\n                this.marginStyle['margin-left'] = distance;\r\n                this.marginStyle['margin-right'] = distance;\r\n\r\n            } else {\r\n                this.spans = 12;\r\n                this.marginStyle['margin-left'] = 0;\r\n                this.marginStyle['margin-right'] = 0;\r\n            }\r\n        },\r\n        onClickCreateQuestionnaireBtn(tid) {\r\n            this.$refs.form.validate(valid => {\r\n                if (valid && tid!=null) {\r\n                    this.$http.post('/questionnaire/create', {\r\n                        'type': tid,\r\n                        'title': this.form.title,\r\n                        'send_to': this.form.target\r\n                        })\r\n                        .then(response =>{\r\n                            let data = response.data;\r\n                            if (data.code == 0) {\r\n                                this.$router.push({name: 'questionnaire_edit_page', params: {qid: data.data.id}});\r\n                            } else if (data.code == 2) {\r\n                                this.$logout();\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            console.log('getQuestionnaireDataError', error);\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.create-title {\r\n    margin-bottom: 24px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    color: #707070;\r\n}\r\n\r\n.create-sub-title {\r\n    margin-top: 36px;\r\n    margin-bottom: 24px;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    color: #707070;\r\n}\r\n\r\n.create-content {\r\n    margin-top: 24px;\r\n}\r\n\r\n.create-questionnaire-card {\r\n    margin-top: 16px;\r\n    text-align: center; \r\n    font-size: 18px;\r\n    min-height: 100px;\r\n    cursor: pointer;\r\n}\r\n\r\n.create-questionnaire-form {\r\n    padding: 15px;\r\n\r\n}\r\n\r\n.create-questionnaire-desc {\r\n    font-size: 10px;\r\n    margin-top: 16px;\r\n    color: #AAAAAA;\r\n}\r\n</style>\r\n"]}]}