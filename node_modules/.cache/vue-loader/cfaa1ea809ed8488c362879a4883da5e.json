{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\login\\RegisterPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\login\\RegisterPage.vue","mtime":1591836639874},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGJ0bjogew0KICAgICAgICAgICAgICAgIGljb246ICcnLA0KICAgICAgICAgICAgICAgIHN0YXR1czogZmFsc2UsDQogICAgICAgICAgICAgICAgdGV4dDogJ+azqCDlhownDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbWZvcm0gOiB7DQogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLA0KICAgICAgICAgICAgICAgIHBhc3N3ZDogJycsDQogICAgICAgICAgICAgICAgcGFzc3dkMjogJycsDQogICAgICAgICAgICAgICAgbmFtZTogJycsDQogICAgICAgICAgICAgICAgcGhvbmVOdW1iZXI6ICcnLA0KICAgICAgICAgICAgICAgIGNvbXBhbnk6ICcnDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgcnVsZXM6IHsNCiAgICAgICAgICAgICAgICB1c2VybmFtZTogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5rOo5YaM6LSm5Y+3JywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDE2LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDYg5YiwIDE2IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBwYXNzd2Q6IFsNCiAgICAgICAgICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeWvhueggScsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IG1pbjogOCwgbWF4OiAxNiwgbWVzc2FnZTogJ+mVv+W6puWcqCA4IOWIsCAxNiDkuKrlrZfnrKYnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgcGFzc3dkMjogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+35YaN6L6T5LiA6YGN5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgICAgICAgICAgIHsgbWluOiA4LCBtYXg6IDE2LCBtZXNzYWdlOiAn6ZW/5bqm5ZyoIDgg5YiwIDE2IOS4quWtl+espicsIHRyaWdnZXI6ICdibHVyJyB9LA0KICAgICAgICAgICAgICAgICAgICB7IHZhbGlkYXRvcjogdGhpcy52YWxpZGF0ZVBhc3N3ZEFnYWluLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICAgICAgbmFtZTogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5ZCN5a2XJywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBwaG9uZU51bWJlcjogWw0KICAgICAgICAgICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5omL5py65Y+3JywgdHJpZ2dlcjogJ2JsdXInIH0sDQogICAgICAgICAgICAgICAgICAgIHsgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlUGhvbmVOdW1iZXIsIHRyaWdnZXI6ICdibHVyJyB9DQogICAgICAgICAgICAgICAgXSwNCiAgICAgICAgICAgICAgICBjb21wYW55OiBbDQogICAgICAgICAgICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlhazlj7jlkI3np7AnLCB0cmlnZ2VyOiAnYmx1cicgfQ0KICAgICAgICAgICAgICAgIF0sDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy/pqozor4HkuKTmrKHlr4bnoIHovpPlhaXmmK/lkKbkuIDoh7QNCiAgICAgICAgdmFsaWRhdGVQYXNzd2RBZ2FpbihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsNCiAgICAgICAgICAgIGlmICh0aGlzLm1mb3JtLnBhc3N3ZCAhPSAiIiAmJiB0aGlzLm1mb3JtLnBhc3N3ZDIgIT0gIiIgJiYgdGhpcy5tZm9ybS5wYXNzd2QgIT0gdGhpcy5tZm9ybS5wYXNzd2QyICkgew0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5Lik5qyh6L6T5YWl5a+G56CB5LiN5LiA6Ie0JykpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvL+WmguaenOavj+S4quWIhuaUr+S4jei/lOWbnmNhbGxiYWNr5bCx5Lya5a+86Ie05peg5rOV6L+b6KGMdGhpcy4kcmVmcy5tZm9ybS52YWxpZGF0ZeWIpOaWrQ0KICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7IA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+mqjOivgemCrueuseagvOW8jw0KICAgICAgICB2YWxpZGF0ZUVtYWlsRm9ybWF0KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgew0KICAgICAgICAgICAgbGV0IHJlZyA9IC9eW0EtWmEtejAtOVx1NGUwMC1cdTlmYTVdK0BbYS16QS1aMC05Xy1dKyhcLlthLXpBLVowLTlfLV0rKSskLw0KICAgICAgICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+mCrueuseagvOW8j+mUmeivrycpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/pqozor4HmiYvmnLrlj7fmoLzlvI8NCiAgICAgICAgdmFsaWRhdGVQaG9uZU51bWJlcihydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsNCiAgICAgICAgICAgIGxldCByZWcgPSAvXjFbMzU2Nzg5XVxkezl9Lw0KICAgICAgICAgICAgaWYgKCFyZWcudGVzdCh2YWx1ZSkpIHsNCiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+aJi+acuuWPt+agvOW8j+mUmeivrycpKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY2FsbGJhY2soKTsNCiAgICAgICAgICAgIH0gDQogICAgICAgIH0sDQogICAgICAgIC8v5pS55Y+Y5rOo5YaM5oyJ6ZKu54q25oCBDQogICAgICAgIHNldExvYWRpbkJ0blN0YXR1cyhzdGF0dXMpIHsNCiAgICAgICAgICAgIHRoaXMuYnRuLnN0YXR1cyA9IHN0YXR1czsNCiAgICAgICAgICAgIHRoaXMuYnRuLmljb24gPSAoc3RhdHVzKSA/ICdlbC1pY29uLWxvYWRpbmcnOiAnJzsNCiAgICAgICAgICAgIHRoaXMuYnRuLnRleHQgPSAoc3RhdHVzKSA/ICfms6jlhozkuK0uLi4nOiAn5rOoIOWGjCc7DQogICAgICAgIH0sDQogICAgICAgIC8v5o+Q5Lqk6KGo5Y2VDQogICAgICAgIHJlZ2lzdGVyKCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmcy5tZm9ybS52YWxpZGF0ZSgodmFsaWQpID0+IHsNCiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5CdG5TdGF0dXModHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIGxldCBtc2csIG10eXBlOw0KICAgICAgICAgICAgICAgICAgICBsZXQgbWRhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICAnYWNjb3VudCc6IHRoaXMubWZvcm0udXNlcm5hbWUsDQogICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IHRoaXMubWZvcm0ubmFtZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHRoaXMubWZvcm0ucGFzc3dkLA0KICAgICAgICAgICAgICAgICAgICAgICAgJ3Bob25lJzogdGhpcy5tZm9ybS5waG9uZU51bWJlciwNCiAgICAgICAgICAgICAgICAgICAgICAgICdjbic6IHRoaXMubWZvcm0uY29tcGFueQ0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kaHR0cC5wb3N0KCcvdXNlci9yZWdpc3RlcicsbWRhdGEpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnID0gZGF0YS5tc2c7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXR5cGUgPSAnc3VjY2Vzcyc7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4geyBsb2NhdGlvbi5yZWxvYWQoKSB9LCA1MDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG10eXBlID0gJ3dhcm5pbmcnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZyA9ICfor7fmsYLplJnor6/vvIEnOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG10eXBlID0gJ2Vycm9yJw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldExvYWRpbkJ0blN0YXR1cyhmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IG10eXBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtc2csDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlcjogdHJ1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["RegisterPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RegisterPage.vue","sourceRoot":"src/components/login","sourcesContent":["<template>\r\n    <el-form ref=\"mform\" :model=\"mform\" :rules=\"rules\" >\r\n        <el-form-item class=\"login-margin-top\" prop=\"username\">\r\n            <el-input v-model.trim=\"mform.username\" prefix-icon=\"el-icon-user\" placeholder=\"* 请输入注册账号(长度为6到16个字符)\" minlength=\"8\" maxlength=\"16\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item  prop=\"passwd\">\r\n            <el-input v-model.trim=\"mform.passwd\" prefix-icon=\"el-icon-lock\" placeholder=\"* 请输入密码(长度为8到16个字符)\" minlength=\"8\" maxlength=\"16\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"passwd2\">\r\n            <el-input v-model.trim=\"mform.passwd2\" prefix-icon=\"el-icon-lock\" placeholder=\"* 请再输一遍密码\" minlength=\"8\" maxlength=\"16\" show-password></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"name\">\r\n            <el-input v-model.trim=\"mform.name\" prefix-icon=\"el-icon-document\" placeholder=\"* 请输入名字\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"phoneNumber\">\r\n            <el-input v-model.trim=\"mform.phoneNumber\" prefix-icon=\"el-icon-phone-outline\" placeholder=\"* 请输入手机号\" minlength=\"11\" maxlength=\"11\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"company\">\r\n            <el-input v-model.trim=\"mform.company\" prefix-icon=\"el-icon-office-building\" placeholder=\"* 请输入公司名字\" clearable></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n            <el-button class=\"login-btn\" :disabled=\"btn.status\" :icon=\"btn.icon\" type=\"primary\" @click=\"register\" round> {{ btn.text }} </el-button>\r\n        </el-form-item>\r\n    </el-form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            btn: {\r\n                icon: '',\r\n                status: false,\r\n                text: '注 册'\r\n            },\r\n            mform : {\r\n                username: '',\r\n                passwd: '',\r\n                passwd2: '',\r\n                name: '',\r\n                phoneNumber: '',\r\n                company: ''\r\n            },\r\n            rules: {\r\n                username: [\r\n                    { required: true, message: '请输入注册账号', trigger: 'blur' },\r\n                    { min: 6, max: 16, message: '长度在 6 到 16 个字符', trigger: 'blur' }\r\n                ],\r\n                passwd: [\r\n                    { required: true, message: '请输入密码', trigger: 'blur' },\r\n                    { min: 8, max: 16, message: '长度在 8 到 16 个字符', trigger: 'blur' }\r\n                ],\r\n                passwd2: [\r\n                    { required: true, message: '请再输一遍密码', trigger: 'blur' },\r\n                    { min: 8, max: 16, message: '长度在 8 到 16 个字符', trigger: 'blur' },\r\n                    { validator: this.validatePasswdAgain, trigger: 'blur' }\r\n                ],\r\n                name: [\r\n                    { required: true, message: '请输入名字', trigger: 'blur' },\r\n                ],\r\n                phoneNumber: [\r\n                    { required: true, message: '请输入手机号', trigger: 'blur' },\r\n                    { validator: this.validatePhoneNumber, trigger: 'blur' }\r\n                ],\r\n                company: [\r\n                    { required: true, message: '请输入公司名称', trigger: 'blur' }\r\n                ],\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        //验证两次密码输入是否一致\r\n        validatePasswdAgain(rule, value, callback) {\r\n            if (this.mform.passwd != \"\" && this.mform.passwd2 != \"\" && this.mform.passwd != this.mform.passwd2 ) {\r\n                callback(new Error('两次输入密码不一致'));\r\n            } else {\r\n                //如果每个分支不返回callback就会导致无法进行this.$refs.mform.validate判断\r\n                callback(); \r\n            }\r\n        },\r\n        //验证邮箱格式\r\n        validateEmailFormat(rule, value, callback) {\r\n            let reg = /^[A-Za-z0-9\\u4e00-\\u9fa5]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\r\n            if (!reg.test(value)) {\r\n                callback(new Error('邮箱格式错误'));\r\n            } else {\r\n                callback();\r\n            }\r\n        },\r\n        //验证手机号格式\r\n        validatePhoneNumber(rule, value, callback) {\r\n            let reg = /^1[356789]\\d{9}/\r\n            if (!reg.test(value)) {\r\n                callback(new Error('手机号格式错误'));\r\n            } else {\r\n                callback();\r\n            } \r\n        },\r\n        //改变注册按钮状态\r\n        setLoadinBtnStatus(status) {\r\n            this.btn.status = status;\r\n            this.btn.icon = (status) ? 'el-icon-loading': '';\r\n            this.btn.text = (status) ? '注册中...': '注 册';\r\n        },\r\n        //提交表单\r\n        register() {\r\n            this.$refs.mform.validate((valid) => {\r\n                if (valid) {\r\n                    this.setLoadinBtnStatus(true);\r\n                    let msg, mtype;\r\n                    let mdata = {\r\n                        'account': this.mform.username,\r\n                        'name': this.mform.name,\r\n                        'password': this.mform.passwd,\r\n                        'phone': this.mform.phoneNumber,\r\n                        'cn': this.mform.company\r\n                    };\r\n                    \r\n                    this.$http.post('/user/register',mdata)\r\n                        .then(response =>{\r\n                            let data = response.data;\r\n                            msg = data.msg;\r\n                            if (data.code == 0){\r\n                                mtype = 'success';\r\n                                setTimeout(() => { location.reload() }, 500);\r\n                            } else {\r\n                                mtype = 'warning';\r\n                            }\r\n                        })\r\n                        .catch(error => {\r\n                            msg = '请求错误！';\r\n                            mtype = 'error'\r\n                        })\r\n                        .finally(() => {\r\n                            this.setLoadinBtnStatus(false);\r\n                            this.$message({\r\n                                type: mtype,\r\n                                message: msg,\r\n                                center: true,\r\n                                duration: 2500\r\n                                });\r\n                        });\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"]}]}