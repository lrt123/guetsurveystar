{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\manage\\QuestionnairePage.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\manage\\QuestionnairePage.vue","mtime":1591926024488},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgaWRUeXBlOiBudWxsLA0KICAgICAgICAgICAgZnVuY0NoZWNrZWQ6IGZhbHNlLA0KICAgICAgICAgICAgZnVuY0J0aFNob3c6IGZhbHNlLA0KICAgICAgICAgICAgZnVuY0J0bkRhdGE6IFsNCiAgICAgICAgICAgICAgICB7aWQ6J3F1ZXN0aW9ubmFpcmUtYnRuLWNyZWF0ZScsIHZhbHVlOiAn5Yib5bu6JywgdHlwZTogJ3ByaW1hcnknLCBpY29uOiAnZWwtaWNvbi1lZGl0J30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1wb3N0JywgdmFsdWU6ICflj5HluIMnLCB0eXBlOiAnc3VjY2VzcycsIGljb246ICdlbC1pY29uLXBvc2l0aW9uJ30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1zdG9wJywgdmFsdWU6ICflgZzmraInLCB0eXBlOiAnd2FybmluZycsIGljb246ICdlbC1pY29uLXJlbW92ZS1vdXRsaW5lJ30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1kZWxldGUnLCB2YWx1ZTogJ+WIoOmZpCcsIHR5cGU6ICdkYW5nZXInLCBpY29uOiAnZWwtaWNvbi1kZWxldGUnfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBkcm9wRG93bkRhdGE6IFsNCiAgICAgICAgICAgICAgICB7aWQ6J3F1ZXN0aW9ubmFpcmUtYnRuLWNyZWF0ZScsIHZhbHVlOiAn57yW6L6RJywgdHlwZTogJ3N1Y2Nlc3MnLCBpY29uOiAnZWwtaWNvbi1lZGl0J30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1wb3N0JywgdmFsdWU6ICflj5HluIMnLCB0eXBlOiAnc3VjY2VzcycsIGljb246ICdlbC1pY29uLXBvc2l0aW9uJ30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1zdG9wJywgdmFsdWU6ICflgZzmraInLCB0eXBlOiAnd2FybmluZycsIGljb246ICdlbC1pY29uLXJlbW92ZS1vdXRsaW5lJ30sDQogICAgICAgICAgICAgICAge2lkOidxdWVzdGlvbm5haXJlLWJ0bi1kZWxldGUnLCB2YWx1ZTogJ+WIoOmZpCcsIHR5cGU6ICdkYW5nZXInLCBpY29uOiAnZWwtaWNvbi1kZWxldGUnfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBxdWVzdGlvbm5hcmllRGF0YTogW10sDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ3NldEFjdGl2ZU1lbnVJdGVtJywgJy9tYW5hZ2UvcXVlc3Rpb25uYWlyZScpOw0KICAgICAgICB0aGlzLm9uSWRlbnRpdHlKdWRnZSgpOw0KICAgICAgICB0aGlzLmdldFF1ZXN0aW9ubmFpcmVEYXRhKCk7DQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC8v6Lqr5Lu95Yik5patDQogICAgICAgIG9uSWRlbnRpdHlKdWRnZSgpIHsNCiAgICAgICAgICAgIHRoaXMuaWRUeXBlID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0eXBlJyk7DQogICAgICAgICAgICB0aGlzLmZ1bmNCdGhTaG93ID0gKHRoaXMuaWRUeXBlICE9IDIpOw0KICAgICAgICB9LA0KICAgICAgICAvL+mXruWNt+iiq+eCueWHu+WIh+aNoumAieS4reeKtuaAgQ0KICAgICAgICBvbkNsaWNrUXVlc3Rpb25uYWlyZUNhcmQoaXRlbSkgew0KICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gIWl0ZW0uY2hlY2tlZDsNCiAgICAgICAgfSwNCiAgICAgICAgLy/lhajpgInpgInmi6nmoYbnirbmgIHlj5jljJYNCiAgICAgICAgb25GdW5jQ2hlY2tib3hDaGFuZ2VkKCkgew0KICAgICAgICAgICAgdGhpcy5xdWVzdGlvbm5hcmllRGF0YS5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9IHRoaXMuZnVuY0NoZWNrZWQ7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgLy/ngrnlh7tGdW5jQnRuDQogICAgICAgIG9uQ2xpY2tGdW5jQnRuKHZhbHVlKSB7DQogICAgICAgICAgICBpZiAodmFsdWUgPT0gJ+WIm+W7uicpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogJy9xdWVzdGlvbm5haXJlL2NyZWF0ZSd9KTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ+WPkeW4gycgfHwgdmFsdWUgPT0gJ+WBnOatoicpIHsNCiAgICAgICAgICAgICAgICBsZXQgaXRlbXMgPSBbXTsNCiAgICAgICAgICAgICAgICB0aGlzLnF1ZXN0aW9ubmFyaWVEYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLmNoZWNrZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goaXRlbSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVF1ZXN0aW9ubmFpcmVTdGF0dXMoaXRlbXMsIHZhbHVlKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gJ+WIoOmZpCcpIHsNCiAgICAgICAgICAgICAgICB0aGlzLiRtc2dib3guY29uZmlybSgn5piv5ZCm6KaB5Yig6Zmk6Zeu5Y23PycsICfmj5DnpLonLCB7DQogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsDQogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiAoYWN0aW9uLGluc3RhbmNlKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09ICdjb25maXJtJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZHMgPSBbXTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXhzID0gW107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25uYXJpZURhdGEuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hlY2tlZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzLnB1c2goaXRlbS5pZCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleHMucHVzaChpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhzLnJldmVyc2UoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZVF1ZXN0aW9ubmFpcmUoaWRzLCBpbmRleHMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9fSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8v54K55Ye7RnVuY01lbnXpgInpobkNCiAgICAgICAgb25DbGlja0Z1bmNNZW51KGFyZ3MpIHsNCiAgICAgICAgICAgIGlmIChhcmdzLnZhbHVlID09ICfnvJbovpEnKSB7DQogICAgICAgICAgICAgICAgDQogICAgICAgICAgICB9IGVsc2UgaWYgKGFyZ3MudmFsdWUgPT0gJ+WPkeW4gycgfHwgYXJncy52YWx1ZSA9PSAn5YGc5q2iJykgew0KICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlUXVlc3Rpb25uYWlyZVN0YXR1cyhbYXJncy50YXJnZXRdLCBhcmdzLnZhbHVlKTsNCiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXJncy52YWx1ZSA9PSAn5Yig6ZmkJykgew0KICAgICAgICAgICAgICAgIHRoaXMuJG1zZ2JveC5jb25maXJtKCfmmK/lkKbopoHliKDpmaTpl67ljbc/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLA0KICAgICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywNCiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IChhY3Rpb24saW5zdGFuY2UpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3Rpb24gPT0gJ2NvbmZpcm0nKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVRdWVzdGlvbm5haXJlKFthcmdzLnRhcmdldC5pZF0sIFthcmdzLmluZGV4XSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH19KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/orr7nva7pl67ljbfnirbmgIENCiAgICAgICAgY2hhbmdlUXVlc3Rpb25uYWlyZVN0YXR1cyhpdGVtcywgc3RhdHVzKSB7DQogICAgICAgICAgICBpdGVtcy5mb3JFYWNoKGkgPT4gew0KICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT0gJ+WPkeW4gycgJiYgaS5zdGF0dXMgIT0gJ+aUtumbhuS4rScpIHsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRRdWVzdGlvbm5haXJlU3RhdHVzKGksIDEsICfmlLbpm4bkuK0nKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PSAn5YGc5q2iJyAmJiBpLnN0YXR1cyAhPSAn5bey5oiq6IezJykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFF1ZXN0aW9ubmFpcmVTdGF0dXMoaSwgMiwgJ+W3suaIquiHsycpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvL+ivt+axgumXruWNt+S/oeaBrw0KICAgICAgICBnZXRRdWVzdGlvbm5haXJlRGF0YSgpIHsNCiAgICAgICAgICAgIHRoaXMuJGh0dHAuZ2V0KCcvdXNlci9teXF1ZXN0aW9ubmFpcmUnKQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ew0KICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlc3BvbnNlLmRhdGE7DQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTExMTEsIGRhdGEuZGF0YS5teV9xdWVzdGlvbm5haXJlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5teV9xdWVzdGlvbm5haXJlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0uc3RhdHVzID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPSAn5pyq5Y+R5biDJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09IDEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPSAn5pS26ZuG5LitJzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PSAyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc3RhdHVzID0gJ+W3suaIquatoic7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSANCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uZXggPSBbDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdb5L2c6ICFXe+8micsIHZhbHVlOiBpdGVtLmZvdW5kZXJ9LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7a2V5OiAnW+ivvuWPt13vvJonLCB2YWx1ZTogaXRlbS5sZXNzb25fY29kZX0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtrZXk6ICdb5LiT5LiaXe+8micsIHZhbHVlOiBpdGVtLm1ham9yfSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2tleTogJ1vml7bpl7Rd77yaJywgdmFsdWU6IGl0ZW0uY3JlYXRlX3RpbWUgKyAnLScgKyBpdGVtLmVuZF90aW1lfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25uYXJpZURhdGEgPSBkYXRhLmRhdGEubXlfcXVlc3Rpb25uYWlyZTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLmNvZGUgPT0gMikgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kbG9nb3V0KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRRdWVzdGlvbm5haXJlRGF0YUVycm9yJywgZXJyb3IpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvL+iuvue9rumXruWNt+eKtuaAgQ0KICAgICAgICBzZXRRdWVzdGlvbm5haXJlU3RhdHVzKGl0ZW0sIHN0YXR1cywgbmV3VmFsdWUpIHsNCiAgICAgICAgICAgIHRoaXMuJGh0dHAucG9zdCgnL3F1ZXN0aW9ubmFpcmUvc3RhdHVzJywgeyJpZCI6IGl0ZW0uaWQsICJzdGF0dXMiOnN0YXR1c30pDQogICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4geyANCiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnN0YXR1cyA9IG5ld1ZhbHVlOw0KICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PSAyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRsb2dvdXQoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICAvL+WIoOmZpOmXruWNtw0KICAgICAgICBkZWxldGVRdWVzdGlvbm5haXJlKGlkcywgaW5kZXhzKSB7DQogICAgICAgICAgICB0aGlzLiRodHRwLnBvc3QoJy9xdWVzdGlvbm5haXJlL2RlbGV0ZScsIHsiaWQiOiBpZHN9KQ0KICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsgDQogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOw0KICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4cy5mb3JFYWNoKGkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVlc3Rpb25uYXJpZURhdGEuc3BsaWNlKGksIDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGxvZ291dCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICB9DQp9DQo="},{"version":3,"sources":["QuestionnairePage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QuestionnairePage.vue","sourceRoot":"src/components/manage","sourcesContent":["<template>\r\n    <div>\r\n        <el-row class=\"grid-row\">\r\n            <el-col :span=\"24\" class=\"grid-col\">\r\n                <el-steps simple>\r\n                    <el-step title=\"创建\" icon=\"el-icon-plus\"></el-step>\r\n                    <el-step title=\"发放\" icon=\"el-icon-position\"></el-step>\r\n                    <el-step title=\"填写\" icon=\"el-icon-edit\"></el-step>\r\n                </el-steps>\r\n            </el-col>\r\n        </el-row>\r\n        <el-row :span=\"24\" class=\"grid-row\">\r\n            <el-timeline>\r\n                <el-timeline-item class=\"hidden-sm-and-down\" placement=\"top\" v-if=\"funcBthShow\">\r\n                    <el-card shadow=\"hover\">\r\n                        <el-checkbox v-model=\"funcChecked\" class=\"quest-checkbox\" @change=\"onFuncCheckboxChanged\"></el-checkbox>\r\n                        <el-button \r\n                            v-for=\"item in funcBtnData\" \r\n                            :key=\"item.id\" :type=\"item.type\" \r\n                            :icon=\"item.icon\" \r\n                            @click=\"onClickFuncBtn(item.value)\" \r\n                            round\r\n                        > {{ item.value }} </el-button>\r\n                    </el-card>\r\n                </el-timeline-item>\r\n\r\n                <el-timeline-item class=\"hidden-sm-and-up\" placement=\"top\" v-if=\"funcBthShow\">\r\n                    <el-card shadow=\"hover\">\r\n                        <el-checkbox v-model=\"funcChecked\" class=\"quest-checkbox\" @change=\"onFuncCheckboxChanged\"></el-checkbox>\r\n                        <el-button \r\n                            v-for=\"item in funcBtnData\" \r\n                            :key=\"item.id\" :type=\"item.type\" \r\n                            :icon=\"item.icon\" \r\n                            @click=\"onClickFuncBtn(item.value)\" \r\n                            circle\r\n                        ></el-button>\r\n                    </el-card>\r\n                </el-timeline-item>\r\n\r\n                <el-timeline-item v-for=\"(item, index) in questionnarieData\" :key=\"item.id\" :timestamp=\"item.time\" placement=\"top\">\r\n                    <div @click=\"onClickQuestionnaireCard(item)\">\r\n                        <el-card shadow=\"hover\"> \r\n\r\n                            <el-checkbox \r\n                                v-model=\"item.checked\" \r\n                                style=\"float: left\" \r\n                                @click.stop.native=\"() => {}\"\r\n                            >[ID]：{{ item.id }} - [状态]：{{ item.status }}</el-checkbox>\r\n\r\n                            <el-dropdown style=\"float: right\" @command=\"onClickFuncMenu\" v-if=\"funcBthShow\">\r\n                                <span class=\"el-dropdown-link\">\r\n                                    <i class=\"el-icon-s-unfold el-icon--right\" style=\"font-size: 18px\"></i>\r\n                                </span>\r\n                                <el-dropdown-menu slot=\"dropdown\">\r\n                                    <el-dropdown-item \r\n                                        v-for=\"dropItem in dropDownData\" \r\n                                        :key=\"dropItem.id\" :type=\"dropItem.type\" \r\n                                        :icon=\"dropItem.icon\" \r\n                                        :command=\"{target: item, value: dropItem.value, index: index}\"\r\n                                    > {{ dropItem.value }} </el-dropdown-item>\r\n                                </el-dropdown-menu>\r\n                            </el-dropdown>\r\n\r\n                            <h3 style=\"clear:both; margin-top: 32px\"> {{ item.title }} </h3>\r\n\r\n                            <el-table :data=\"item.ex\" :show-header=\"false\">\r\n                                <el-table-column prop=\"key\" align=\"center\" label=\"key\" width=\"100\"></el-table-column>\r\n                                <el-table-column prop=\"value\" label=\"value\"></el-table-column>\r\n                            </el-table>\r\n\r\n                        </el-card>\r\n                    </div>\r\n                </el-timeline-item>\r\n\r\n            </el-timeline>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            idType: null,\r\n            funcChecked: false,\r\n            funcBthShow: false,\r\n            funcBtnData: [\r\n                {id:'questionnaire-btn-create', value: '创建', type: 'primary', icon: 'el-icon-edit'},\r\n                {id:'questionnaire-btn-post', value: '发布', type: 'success', icon: 'el-icon-position'},\r\n                {id:'questionnaire-btn-stop', value: '停止', type: 'warning', icon: 'el-icon-remove-outline'},\r\n                {id:'questionnaire-btn-delete', value: '删除', type: 'danger', icon: 'el-icon-delete'},\r\n            ],\r\n            dropDownData: [\r\n                {id:'questionnaire-btn-create', value: '编辑', type: 'success', icon: 'el-icon-edit'},\r\n                {id:'questionnaire-btn-post', value: '发布', type: 'success', icon: 'el-icon-position'},\r\n                {id:'questionnaire-btn-stop', value: '停止', type: 'warning', icon: 'el-icon-remove-outline'},\r\n                {id:'questionnaire-btn-delete', value: '删除', type: 'danger', icon: 'el-icon-delete'},\r\n            ],\r\n            questionnarieData: [],\r\n        }\r\n    },\r\n    mounted() {\r\n        this.$emit('setActiveMenuItem', '/manage/questionnaire');\r\n        this.onIdentityJudge();\r\n        this.getQuestionnaireData();\r\n    },\r\n    methods: {\r\n        //身份判断\r\n        onIdentityJudge() {\r\n            this.idType = window.localStorage.getItem('type');\r\n            this.funcBthShow = (this.idType != 2);\r\n        },\r\n        //问卷被点击切换选中状态\r\n        onClickQuestionnaireCard(item) {\r\n            item.checked = !item.checked;\r\n        },\r\n        //全选选择框状态变化\r\n        onFuncCheckboxChanged() {\r\n            this.questionnarieData.forEach(item => {\r\n                item.checked = this.funcChecked;\r\n            });\r\n        },\r\n        //点击FuncBtn\r\n        onClickFuncBtn(value) {\r\n            if (value == '创建') {\r\n                this.$router.push({path: '/questionnaire/create'});\r\n            } else if (value == '发布' || value == '停止') {\r\n                let items = [];\r\n                this.questionnarieData.forEach(item => {\r\n                    if (item.checked) {\r\n                        items.push(item);\r\n                    }\r\n                });\r\n                this.changeQuestionnaireStatus(items, value);\r\n            } else if (value == '删除') {\r\n                this.$msgbox.confirm('是否要删除问卷?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'error',\r\n                    callback: (action,instance) => {\r\n                        if (action == 'confirm') {\r\n                            let ids = [];\r\n                            let indexs = [];\r\n                            let i = 0;\r\n                            this.questionnarieData.forEach(item => {\r\n                                if (item.checked) {\r\n                                    ids.push(item.id);\r\n                                    indexs.push(i);\r\n                                }\r\n                                i++;\r\n                            });\r\n                            indexs.reverse();\r\n                            this.deleteQuestionnaire(ids, indexs);\r\n                        }\r\n                    }});\r\n            }\r\n        },\r\n        //点击FuncMenu选项\r\n        onClickFuncMenu(args) {\r\n            if (args.value == '编辑') {\r\n                \r\n            } else if (args.value == '发布' || args.value == '停止') {\r\n                this.changeQuestionnaireStatus([args.target], args.value);\r\n            } else if (args.value == '删除') {\r\n                this.$msgbox.confirm('是否要删除问卷?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'error',\r\n                    callback: (action,instance) => {\r\n                        if (action == 'confirm') {\r\n                            this.deleteQuestionnaire([args.target.id], [args.index]);\r\n                        }\r\n                    }});\r\n            }\r\n        },\r\n        //设置问卷状态\r\n        changeQuestionnaireStatus(items, status) {\r\n            items.forEach(i => {\r\n                if (status == '发布' && i.status != '收集中') {\r\n                    this.setQuestionnaireStatus(i, 1, '收集中');\r\n                } else if (status == '停止' && i.status != '已截至') {\r\n                    this.setQuestionnaireStatus(i, 2, '已截至');\r\n                }\r\n            });\r\n        },\r\n        //请求问卷信息\r\n        getQuestionnaireData() {\r\n            this.$http.get('/user/myquestionnaire')\r\n                .then(response =>{\r\n                    let data = response.data;\r\n                    if (data.code == 0) {\r\n                        console.log(11111, data.data.my_questionnaire);\r\n                        data.data.my_questionnaire.forEach(item => {\r\n                            item.checked = false;\r\n                            if (item.status == 0) {\r\n                                item.status = '未发布';\r\n                            } else if (item.status == 1) {\r\n                                item.status = '收集中';\r\n                            }  else if (item.status == 2) {\r\n                                item.status = '已截止';\r\n                            } \r\n\r\n                            item.ex = [\r\n                                {key: '[作者]：', value: item.founder},\r\n                                {key: '[课号]：', value: item.lesson_code},\r\n                                {key: '[专业]：', value: item.major},\r\n                                {key: '[时间]：', value: item.create_time + '-' + item.end_time}\r\n                            ];\r\n                        });\r\n                        this.questionnarieData = data.data.my_questionnaire;\r\n                    } else if (data.code == 2) {\r\n                        this.$logout();\r\n                    }\r\n                })\r\n                .catch(error => {\r\n                    console.log('getQuestionnaireDataError', error);\r\n                });\r\n        },\r\n        //设置问卷状态\r\n        setQuestionnaireStatus(item, status, newValue) {\r\n            this.$http.post('/questionnaire/status', {\"id\": item.id, \"status\":status})\r\n                .then(response => { \r\n                    if (response.data.code == 0) {\r\n                        item.status = newValue;\r\n                    } else if (response.data.code == 2) {\r\n                        this.$logout();\r\n                    }\r\n                });\r\n        },\r\n        //删除问卷\r\n        deleteQuestionnaire(ids, indexs) {\r\n            this.$http.post('/questionnaire/delete', {\"id\": ids})\r\n                .then(response => { \r\n                    console.log(response.data);\r\n                    if (response.data.code == 0) {\r\n                        indexs.forEach(i => {\r\n                            this.questionnarieData.splice(i, 1);\r\n                        });\r\n                    } else if (response.data.code == 2) {\r\n                        this.$logout();\r\n                    }\r\n                });\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.grid-row {\r\n    margin-top: 10px;\r\n    text-align: center;\r\n}\r\n\r\n.grid-col {\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.grid-col-card {\r\n    padding: 2px;\r\n}\r\n\r\n.quest-checkbox {\r\n    float: left; \r\n    margin-top: 10px;\r\n}\r\n\r\n\r\n</style>\r\n"]}]}