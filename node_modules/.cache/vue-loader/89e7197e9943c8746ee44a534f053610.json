{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\manage\\StatisticsPage.vue?vue&type=style&index=0&id=6d5f067c&scoped=true&lang=css&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\manage\\StatisticsPage.vue","mtime":1593142174148},{"path":"F:\\github\\guetsurveystar\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KDQouc3QtYnRuIHsNCiAgICBtYXJnaW4tdG9wOiAyNXB4Ow0KICAgIG1hcmdpbi1ib3R0b206IDI1cHg7DQogICAgZmxvYXQ6IHJpZ2h0Ow0KfQ0KDQo="},{"version":3,"sources":["StatisticsPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA","file":"StatisticsPage.vue","sourceRoot":"src/components/manage","sourcesContent":["<template>\r\n    <div>\r\n        <el-row :span=\"24\" class=\"grid-row\">\r\n            <el-timeline>\r\n\r\n\r\n                <el-timeline-item v-for=\"(item, index) in questionnarieData\" :key=\"item.id\" :timestamp=\"item.time\" placement=\"top\">\r\n                    <div>\r\n                        <el-card shadow=\"hover\">\r\n                            <div>{{ index + 1 }}. [ID]：{{ item.id }} - [状态]：{{ item.status }}</div>\r\n                            <h3 style=\"clear:both; margin-top: 32px; margin-left: 20px\"> 标题：{{ item.title }} </h3>\r\n                            <el-table :data=\"item.ex\" :show-header=\"false\">\r\n                                <el-table-column prop=\"key\" align=\"center\" label=\"key\" width=\"100\"></el-table-column>\r\n                                <el-table-column prop=\"value\" label=\"value\"></el-table-column>\r\n                            </el-table>\r\n                            <el-button class=\"st-btn\" @click=\"go_analyze(item.id,item.type)\" type=\"primary\" round>查看统计结果</el-button>\r\n                        </el-card>\r\n                    </div>\r\n                </el-timeline-item>\r\n\r\n            </el-timeline>\r\n        </el-row>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                questionnarieData: [],\r\n            }\r\n        },\r\n        mounted() {\r\n            this.$emit('setActiveMenuItem', '/manage/statistics');\r\n            this.getQuestionnaireData();\r\n        },\r\n        methods: {\r\n            //请求问卷信息\r\n            getQuestionnaireData() {\r\n                this.$http.get('/user/myquestionnaire')\r\n                    .then(response =>{\r\n                        let data = response.data;\r\n                        let questionList = []\r\n                        if (data.code === 0) {\r\n                            data.data.my_questionnaire.forEach((item,index) => {\r\n                                if (item.status === 2){\r\n                                    item.checked = false;\r\n                                    item.status = '已截止'\r\n                                    item.ex = [\r\n                                        {key: '[作者]：', value: item.founder},\r\n                                        {key: '[课号]：', value: item.lesson_code},\r\n                                        {key: '[专业]：', value: item.major},\r\n                                        {key: '[时间]：', value: item.create_time + '-' + item.end_time}\r\n                                    ];\r\n                                    questionList.push(item)\r\n                                }\r\n                            });\r\n                            console.log(questionList)\r\n                            this.questionnarieData = questionList;\r\n                        } else if (data.code == 2) {\r\n                            this.$logout();\r\n                        }\r\n                    })\r\n                    .catch(error => {\r\n                        console.log('getQuestionnaireDataError', error);\r\n                    });\r\n            },\r\n            //跳转问卷分析页面\r\n            go_analyze(id,type){\r\n                this.$router.push({name: 'analyze_page', params: {qid: id,type: type}})\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n.st-btn {\r\n    margin-top: 25px;\r\n    margin-bottom: 25px;\r\n    float: right;\r\n}\r\n\r\n</style>\r\n"]}]}