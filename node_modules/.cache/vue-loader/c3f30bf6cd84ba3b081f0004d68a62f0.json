{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\github\\guetsurveystar\\src\\components\\questionnaire\\Question.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\components\\questionnaire\\Question.vue","mtime":1593265447097},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJRdWVzdGlvbiIsCiAgICBwcm9wczogewogICAgICAgIGlzQm94U2VsZWN0ZWQ6IEJvb2xlYW4sCiAgICAgICAgcXVlc3Rpb25JbmRleDogTnVtYmVyLAogICAgICAgIHF1ZXN0aW9uVGl0bGU6IFN0cmluZywKICAgICAgICBxdWVzdGlvbk51bGxhYmxlOiBCb29sZWFuLAogICAgICAgIHF1ZXN0aW9uVHlwZTogTnVtYmVyLAogICAgICAgIHF1ZXN0aW9uT3B0aW9uczogQXJyYXksCiAgICAgICAgY291cnNlR29hbHM6IEFycmF5LAogICAgICAgIGNvdXJzZUdvYWw6IE51bWJlciwKICAgICAgICBxdWVzdGlvbm5haXJlVHlwZTogTnVtYmVyCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGNsaWNrVW5TZWxlY3RlZCgpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xpY2tVblNlbGVjdGVkJyk7CiAgICAgICAgfSwKICAgICAgICBzYXZlT25lUXVlc3Rpb24oKSB7CiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NhdmVPbmVRdWVzdGlvbicsIHRoaXMucXVlc3Rpb25EYXRhKTsKICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xpY2tTZWxlY3RlZCcpOwogICAgICAgIH0sCiAgICAgICAgcmVzZXRRdWVzdGlvbigpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgncmVzZXRRdWVzdGlvbicpOwogICAgICAgICAgICB0aGlzLnF1ZXN0aW9uVGl0bGVWYWx1ZSA9ICLor7fovpPlhaXmoIfpopgiOwogICAgICAgICAgICB0aGlzLnF1ZXN0aW9uTnVsbGFibGVWYWx1ZSA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnR5cGVWYWx1ZSA9ICdub3Rfc2VsZWN0ZWQnOwogICAgICAgICAgICB0aGlzLm9wdGlvbnNWYWx1ZSA9IFt7J215b3B0aW9uJzonJywnc2NvcmUnOjB9XTsKICAgICAgICB9LAogICAgICAgIGNsaWNrRGVsZXRlKCkgewogICAgICAgICAgICB0aGlzLiRlbWl0KCdjbGlja0RlbGV0ZScpOwogICAgICAgIH0sCiAgICAgICAgYWRkT3B0aW9uKCkgewogICAgICAgICAgICB0aGlzLm9wdGlvbnNWYWx1ZS5wdXNoKHsnbXlvcHRpb24nOicnLCdzY29yZSc6MH0pOwogICAgICAgIH0sCiAgICAgICAgZGVsZXRlT3B0aW9uKGluZGV4KSB7CiAgICAgICAgICAgIHRoaXMub3B0aW9uc1ZhbHVlLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfSwKICAgICAgICBjbGlja09wdGlvbigpewogICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5jb3Vyc2VHb2Fscyl7CiAgICAgICAgICAgICAgICBpZiAodC5pZCA9PT0gdGhpcy5nb2FsVmFsdWUpewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ29hbERlc2MgPSB0LmRlc2MKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIHVwZGF0ZWQoKSB7CiAgICAgICAgaWYgKHRoaXMucXVlc3Rpb25uYWlyZVR5cGUgPT09IDEpewogICAgICAgICAgICB0aGlzLmNsaWNrT3B0aW9uKCkKICAgICAgICB9CiAgICB9LAoKICAgIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlT3B0aW9uczogWwogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnbm90X3NlbGVjdGVkJywKICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+ivt+i+k+WFpScKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMCwKICAgICAgICAgICAgICAgICAgICBsYWJlbDogJ+WNlemAiScKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6ICfkuLvop4LpopgnCiAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgb3B0aW9uc1ZhbHVlOiB0aGlzLnF1ZXN0aW9uT3B0aW9ucywKICAgICAgICAgICAgdHlwZVZhbHVlOiB0aGlzLnF1ZXN0aW9uVHlwZSwKICAgICAgICAgICAgcXVlc3Rpb25UaXRsZVZhbHVlOiB0aGlzLnF1ZXN0aW9uVGl0bGUsCiAgICAgICAgICAgIHF1ZXN0aW9uTnVsbGFibGVWYWx1ZTogdGhpcy5xdWVzdGlvbk51bGxhYmxlLAogICAgICAgICAgICBnb2FsVmFsdWU6IHRoaXMuY291cnNlR29hbCwKICAgICAgICAgICAgZ29hbERlc2M6ICIiCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgcXVlc3Rpb25EYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIHF1ZXN0aW9uSW5kZXg6IHRoaXMucXVlc3Rpb25JbmRleCwKICAgICAgICAgICAgICBxdWVzdGlvbk9wdGlvbnM6IHRoaXMub3B0aW9uc1ZhbHVlLAogICAgICAgICAgICAgIHF1ZXN0aW9uVGl0bGU6IHRoaXMucXVlc3Rpb25UaXRsZVZhbHVlLAogICAgICAgICAgICAgIHF1ZXN0aW9uVHlwZTogdGhpcy50eXBlVmFsdWUsCiAgICAgICAgICAgICAgcXVlc3Rpb25OdWxsYWJsZTogdGhpcy5xdWVzdGlvbk51bGxhYmxlVmFsdWUsCiAgICAgICAgICAgICAgY291cnNlR29hbDogdGhpcy5nb2FsVmFsdWUKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgfSwKfQo="},{"version":3,"sources":["Question.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Question.vue","sourceRoot":"src/components/questionnaire","sourcesContent":["<template>\n    <div style=\"position: relative;\">\n        <el-card class=\"box-card\" shadow=\"hover\" :body-style=\"{ padding: '0' }\">\n\n            <div class=\"box-is-not-selected-wrapper\" v-if=\"!isBoxSelected\" @click=\"clickUnSelected\">\n                <div class=\"box-is-not-selected\">\n                    <div class=\"question-title-div\">\n                        <div style=\"width: 80%\">{{questionIndex+1}}. {{questionTitleValue}}\n                            <div style=\"display: inline\" v-if=\"questionNullableValue===false\" class=\"nullable-star\">*\n                            </div>\n                        </div>\n                    </div>\n\n                    <el-radio-group v-if=\"typeValue===0\" v-model=\"optionsValue\">\n                        <el-radio v-for=\"(item,index) in optionsValue\" :key=\"index\">{{item.myoption}}</el-radio>\n                    </el-radio-group>\n\n                    <el-input v-else-if=\"typeValue===1\"\n                              type=\"textarea\" style=\"max-width: 80%\"\n                              placeholder=\"请输入内容（多行文本）\"\n                    ></el-input>\n                </div>\n\n                <div class=\"edit-icon\"><i class=\"el-icon-edit-outline\"></i></div>\n            </div>\n\n\n            <div class=\"box-is-selected\" v-if=\"isBoxSelected\">\n                <div class=\"question-index\">{{questionIndex+1}}.\n                </div>\n                <el-form>\n                    <el-form-item label=\"标题：\">\n                        <el-input type=\"text\" size=\"medium\"\n                                  style=\"max-width: 60%\"\n                                  v-model=\"questionTitleValue\"\n                                  placeholder=\"请输入标题\"\n                        ></el-input>\n                    </el-form-item>\n                    <el-form-item label=\"类型：\">\n                        <el-select v-model=\"typeValue\" placeholder=\"请选择\" size=\"medium\">\n                            <el-option\n                                    v-for=\"item in typeOptions\"\n                                    :key=\"item.value\"\n                                    :label=\"item.label\"\n                                    :value=\"item.value\">\n                            </el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item label=\"是否选填：\">\n                        <el-select placeholder=\"是否可以不填写\" v-model=\"questionNullableValue\">\n                            <el-option :value=\"true\" :label=\"'是'\"></el-option>\n                            <el-option :value=\"false\" :label=\"'否'\"></el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item v-if=\"questionnaireType===1&&questionType===0\" label=\"课程目标：\">\n                        <el-select @change=\"clickOption\" v-model=\"goalValue\" placeholder=\"请选择\" size=\"medium\">\n                            <el-option\n                                    v-for=\"(item,index) in courseGoals\"\n                                    :key=\"index\"\n                                    :label=\"'课程目标'+(index+1)\"\n                                    :value=\"item.id\"\n                            >\n                            </el-option>\n                        </el-select>\n                        <div id=\"descdiv\">目标描述： {{this.goalDesc}}</div>\n                    </el-form-item>\n\n                    <el-divider class=\"divider\"></el-divider>\n\n                    <div v-if=\"typeValue===0\">\n                        <el-form-item v-for=\"(item,index) in optionsValue\" :key=\"index\">\n                            选项{{index+1}}：\n                            <el-input v-model=\"optionsValue[index].myoption\" style=\"max-width: 200px\"></el-input>\n                            <br>\n\n                            <div style=\"padding-top: 5px;\">\n                                <label style=\"padding-right: 9px;\">分值：</label>\n                                <el-input v-model.number=\"optionsValue[index].score\" type=\"number\" min=\"0\" max=\"100\"\n                                          :validate-event=\"true\" style=\"max-width: 200px\"\n                                >\n                                </el-input>\n                            </div>\n                            <el-tooltip effect=\"light\"\n                                        content=\"在下方添加\"\n                                        :open-delay=\"200\"\n                                        :hide-after=\"1500\"\n                                        placement=\"top\">\n                                <el-button size=\"medium\" round class=\"add-option-button\"\n                                           @click=\"addOption\"\n                                ><i class=\"el-icon-plus\"></i>\n                                </el-button>\n                            </el-tooltip>\n                            <el-tooltip effect=\"light\"\n                                        content=\"删除本选项\"\n                                        :open-delay=\"200\"\n                                        :hide-after=\"1500\"\n                                        placement=\"top\">\n                                <el-button size=\"medium\" round class=\"delete-option-button\"\n                                           @click=\"deleteOption(index)\"\n                                ><i class=\"el-icon-delete\"></i>\n                                </el-button>\n                            </el-tooltip>\n                        </el-form-item>\n                    </div>\n\n                    <el-form-item>\n                        <el-button type=\"primary\" @click=\"saveOneQuestion\">保存</el-button>\n                        <el-button @click=\"resetQuestion\">重置</el-button>\n                    </el-form-item>\n                </el-form>\n            </div>\n\n\n            <el-button class=\"delete-button\" type=\"danger\"\n                       icon=\"el-icon-delete\" circle\n                       @click=\"clickDelete\"\n            ></el-button>\n\n\n        </el-card>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"Question\",\n        props: {\n            isBoxSelected: Boolean,\n            questionIndex: Number,\n            questionTitle: String,\n            questionNullable: Boolean,\n            questionType: Number,\n            questionOptions: Array,\n            courseGoals: Array,\n            courseGoal: Number,\n            questionnaireType: Number\n        },\n        methods: {\n            clickUnSelected() {\n                this.$emit('clickUnSelected');\n            },\n            saveOneQuestion() {\n                this.$emit('saveOneQuestion', this.questionData);\n                this.$emit('clickSelected');\n            },\n            resetQuestion() {\n                this.$emit('resetQuestion');\n                this.questionTitleValue = \"请输入标题\";\n                this.questionNullableValue = false;\n                this.typeValue = 'not_selected';\n                this.optionsValue = [{'myoption':'','score':0}];\n            },\n            clickDelete() {\n                this.$emit('clickDelete');\n            },\n            addOption() {\n                this.optionsValue.push({'myoption':'','score':0});\n            },\n            deleteOption(index) {\n                this.optionsValue.splice(index, 1);\n            },\n            clickOption(){\n                for (const t of this.courseGoals){\n                    if (t.id === this.goalValue){\n                        this.goalDesc = t.desc\n                        break\n                    }\n                }\n            }\n        },\n        updated() {\n            if (this.questionnaireType === 1){\n                this.clickOption()\n            }\n        },\n\n        data: function () {\n            return {\n                typeOptions: [\n                    {\n                        value: 'not_selected',\n                        label: '请输入'\n                    }, {\n                        value: 0,\n                        label: '单选'\n                    },\n                    {\n                        value: 1,\n                        label: '主观题'\n                    }],\n                optionsValue: this.questionOptions,\n                typeValue: this.questionType,\n                questionTitleValue: this.questionTitle,\n                questionNullableValue: this.questionNullable,\n                goalValue: this.courseGoal,\n                goalDesc: \"\"\n            }\n        },\n        computed: {\n            questionData: function () {\n              return {\n                  questionIndex: this.questionIndex,\n                  questionOptions: this.optionsValue,\n                  questionTitle: this.questionTitleValue,\n                  questionType: this.typeValue,\n                  questionNullable: this.questionNullableValue,\n                  courseGoal: this.goalValue\n                };\n            },\n        },\n    }\n</script>\n\n<style scoped>\n    .box-is-not-selected {\n        position: relative;\n        text-align: left;\n        margin-left: 20%;\n        line-height: 40px;\n    }\n\n    .nullable-star {\n        color: red;\n    }\n\n    .delete-button {\n        position: absolute;\n        right: 10%;\n        top: 20px;\n    }\n\n    .question-index {\n        margin-bottom: 20px;\n    }\n\n    .box-card {\n        transition: all ease 300ms;\n    }\n\n    .delete-button {\n        position: absolute;\n    }\n\n    .box-is-selected {\n        text-align: left;\n        margin-top: 30px;\n        margin-bottom: 30px;\n        margin-left: 20%;\n    }\n\n    .box-is-not-selected-wrapper {\n        padding-top: 20px;\n        padding-bottom: 20px;\n        cursor: pointer;\n    }\n\n    .box-is-not-selected-wrapper:hover .box-is-not-selected {\n        filter: blur(8px);\n    }\n\n    .edit-icon {\n        display: none;\n    }\n\n    .box-is-not-selected-wrapper:hover .edit-icon {\n        display: inline;\n        height: 100%;\n        width: 100%;\n        background-color: rgba(179, 229, 252, 0.3);\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n    .el-icon-edit-outline {\n        position: absolute;\n        top: calc(50% - 30px);\n        left: calc(50% - 30px);\n        font-size: 60px;\n        color: rgba(128, 0, 128, 0.6);\n    }\n\n    .divider {\n        max-width: 80%;\n    }\n\n    .add-option-button {\n        margin-left: 10px;\n    }\n\n    #descdiv{\n        color: #60627A;\n        margin-top: 16px;\n        width: 65%;\n    }\n\n</style>\n"]}]}