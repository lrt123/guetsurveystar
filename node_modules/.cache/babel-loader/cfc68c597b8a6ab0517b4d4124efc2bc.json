{"remainingRequest":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js!F:\\github\\guetsurveystar\\src\\router\\index.js","dependencies":[{"path":"F:\\github\\guetsurveystar\\src\\router\\index.js","mtime":1592572599184},{"path":"F:\\github\\guetsurveystar\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\github\\guetsurveystar\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWVSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBWdWVDb29raWVzIGZyb20gJ3Z1ZS1jb29raWVzJzsKLyogdmlldyAqLwoKaW1wb3J0IEZhY2UgZnJvbSAnLi4vdmlld3MvRmFjZS52dWUnOwppbXBvcnQgTG9naW4gZnJvbSAnLi4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IE1hbmFnZSBmcm9tICcuLi92aWV3cy9NYW5hZ2UudnVlJzsKaW1wb3J0IFF1ZXN0aW9ubmFpcmUgZnJvbSAnLi4vdmlld3MvUXVlc3Rpb25uYWlyZS52dWUnOwovKiBtYW5hZ2UgY2hpbGRyZW4gcGFnZSAqLwoKaW1wb3J0IFVzZXJQYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvbWFuYWdlL1VzZXJQYWdlLnZ1ZSc7CmltcG9ydCBRdWVzdGlvbm5haXJlUGFnZSBmcm9tICcuLi9jb21wb25lbnRzL21hbmFnZS9RdWVzdGlvbm5haXJlUGFnZS52dWUnOwppbXBvcnQgU3RhdGlzdGljc1BhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9tYW5hZ2UvU3RhdGlzdGljc1BhZ2UudnVlJzsKaW1wb3J0IFNldHRpbmdQYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvbWFuYWdlL1NldHRpbmdQYWdlLnZ1ZSc7CmltcG9ydCBGZWVkYmFja1BhZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9tYW5hZ2UvRmVlZGJhY2tQYWdlLnZ1ZSc7CmltcG9ydCBIZWxwUGFnZSBmcm9tICcuLi9jb21wb25lbnRzL21hbmFnZS9IZWxwUGFnZS52dWUnOwppbXBvcnQgQ291cnNlUGFnZSBmcm9tICcuLi9jb21wb25lbnRzL21hbmFnZS9Db3Vyc2VQYWdlLnZ1ZSc7Ci8qIHF1ZXN0aW9ubmFpcmUgY2hpbGRyZW4gcGFnZSAqLwoKaW1wb3J0IFF1ZXN0aW9ubmFpcmVDcmVhdGVQYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvcXVlc3Rpb25uYWlyZS9DcmVhdGVQYWdlLnZ1ZSc7CmltcG9ydCBNYWluUXVlc3Rpb25MaXN0IGZyb20gJy4uL2NvbXBvbmVudHMvcXVlc3Rpb25uYWlyZS9NYWluUXVlc3Rpb25MaXN0LnZ1ZSc7CmltcG9ydCBGaWxsSW4gZnJvbSAiLi4vY29tcG9uZW50cy9xdWVzdGlvbm5haXJlL0ZpbGxJbiI7ClZ1ZS51c2UoVnVlUm91dGVyKTsKLyog6Kej5YazRWxlbWVudCB1aemHjeWkjeeCueWHu+S8muaKpemUmeeahOmXrumimCAqLwoKdmFyIG9yaWdpbmFsUHVzaCA9IFZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaDsKClZ1ZVJvdXRlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIHB1c2gobG9jYXRpb24pIHsKICByZXR1cm4gb3JpZ2luYWxQdXNoLmNhbGwodGhpcywgbG9jYXRpb24pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgIHJldHVybiBlcnI7CiAgfSk7Cn07Cgp2YXIgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgY29tcG9uZW50OiBGYWNlCn0sIHsKICBwYXRoOiAnL2xvZ2luJywKICBjb21wb25lbnQ6IExvZ2luCn0sIHsKICBwYXRoOiAnL21hbmFnZScsCiAgY29tcG9uZW50OiBNYW5hZ2UsCiAgcmVkaXJlY3Q6ICcvbWFuYWdlL3VzZXInLAogIGNoaWxkcmVuOiBbewogICAgcGF0aDogJy9tYW5hZ2UvdXNlcicsCiAgICBuYW1lOiAnbWFuYWdlX3VzZXJfcGFnZScsCiAgICBjb21wb25lbnQ6IFVzZXJQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2UvcXVlc3Rpb25uYWlyZScsCiAgICBuYW1lOiAnbWFuYWdlX3F1ZXN0aW9ubmFpcmVfcGFnZScsCiAgICBjb21wb25lbnQ6IFF1ZXN0aW9ubmFpcmVQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2Uvc3RhdGlzdGljcycsCiAgICBuYW1lOiAnbWFuYWdlX3N0YXRpc3RpY3NfcGFnZScsCiAgICBjb21wb25lbnQ6IFN0YXRpc3RpY3NQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2UvY291cnNlJywKICAgIG5hbWU6ICdtYW5hZ2VfY291cnNlX3BhZ2UnLAogICAgY29tcG9uZW50OiBDb3Vyc2VQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2Uvc2V0dGluZycsCiAgICBuYW1lOiAnbWFuYWdlX3NldHRpbmdfcGFnZScsCiAgICBjb21wb25lbnQ6IFNldHRpbmdQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2UvZmVlZGJhY2snLAogICAgbmFtZTogJ21hbmFnZV9mZWVkYmFja19wYWdlJywKICAgIGNvbXBvbmVudDogRmVlZGJhY2tQYWdlCiAgfSwgewogICAgcGF0aDogJy9tYW5hZ2UvaGVscCcsCiAgICBuYW1lOiAnbWFuYWdlX2hlbHBfcGFnZScsCiAgICBjb21wb25lbnQ6IEhlbHBQYWdlCiAgfV0KfSwgewogIHBhdGg6ICcvcXVlc3Rpb25uYWlyZScsCiAgY29tcG9uZW50OiBRdWVzdGlvbm5haXJlLAogIHJlZGlyZWN0OiAnL3F1ZXN0aW9ubmFpcmUvY3JlYXRlJywKICBjaGlsZHJlbjogW3sKICAgIHBhdGg6ICcvcXVlc3Rpb25uYWlyZS9jcmVhdGUnLAogICAgbmFtZTogJ3F1ZXN0aW9ubmFpcmVfY3JlYXRlX3BhZ2UnLAogICAgY29tcG9uZW50OiBRdWVzdGlvbm5haXJlQ3JlYXRlUGFnZQogIH0sIHsKICAgIHBhdGg6ICcvcXVlc3Rpb25uYWlyZS9lZGl0LzpxaWQnLAogICAgbmFtZTogJ3F1ZXN0aW9ubmFpcmVfZWRpdF9wYWdlJywKICAgIGNvbXBvbmVudDogTWFpblF1ZXN0aW9uTGlzdCwKICAgIHByb3BzOiB0cnVlCiAgfSwgewogICAgcGF0aDogJy9xdWVzdGlvbm5haXJlL2ZpbGxpbi86cWlkJywKICAgIG5hbWU6ICdxdWVzdGlvbm5haXJlX2ZpbGxpbl9wYWdlJywKICAgIGNvbXBvbmVudDogRmlsbEluLAogICAgcHJvcHM6IHRydWUKICB9XQp9XTsKdmFyIHJvdXRlciA9IG5ldyBWdWVSb3V0ZXIoewogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIEZvcm0sIG5leHQpIHsKICBpZiAodG8ucGF0aC5pbmRleE9mKCcvbWFuYWdlJykgIT0gLTEgfHwgdG8ucGF0aC5pbmRleE9mKCcvcXVlc3Rpb25uYWlyZScpICE9IC0xKSB7CiAgICB2YXIgdG9rZW4gPSBWdWVDb29raWVzLmdldCgndG9rZW4nKTsKICAgIHRva2VuID0gdG9rZW4gPyB0b2tlbiA6IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTsKICAgIGNvbnNvbGUubG9nKDExMSk7CiAgICBjb25zb2xlLmxvZyh0b2tlbik7CgogICAgaWYgKCF0b2tlbikgewogICAgICByZXR1cm4gbmV4dCgnL2xvZ2luJyk7CiAgICB9CiAgfSBlbHNlIGlmICh0by5wYXRoID09ICcvbG9nb3V0JykgewogICAgcmV0dXJuOwogIH0KCiAgbmV4dCgpOwp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["F:/github/guetsurveystar/src/router/index.js"],"names":["Vue","VueRouter","VueCookies","Face","Login","Manage","Questionnaire","UserPage","QuestionnairePage","StatisticsPage","SettingPage","FeedbackPage","HelpPage","CoursePage","QuestionnaireCreatePage","MainQuestionList","FillIn","use","originalPush","prototype","push","location","call","catch","err","routes","path","component","redirect","children","name","props","router","beforeEach","to","Form","next","indexOf","token","get","window","localStorage","getItem","console","log"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport VueCookies from 'vue-cookies'\r\n/* view */\r\nimport Face from '../views/Face.vue'\r\nimport Login from '../views/Login.vue'\r\nimport Manage from '../views/Manage.vue'\r\nimport Questionnaire from '../views/Questionnaire.vue'\r\n/* manage children page */\r\nimport UserPage from '../components/manage/UserPage.vue'\r\nimport QuestionnairePage from '../components/manage/QuestionnairePage.vue'\r\nimport StatisticsPage from '../components/manage/StatisticsPage.vue'\r\nimport SettingPage from '../components/manage/SettingPage.vue'\r\nimport FeedbackPage from '../components/manage/FeedbackPage.vue'\r\nimport HelpPage from '../components/manage/HelpPage.vue'\r\nimport CoursePage from '../components/manage/CoursePage.vue'\r\n/* questionnaire children page */\r\nimport QuestionnaireCreatePage from '../components/questionnaire/CreatePage.vue'\r\nimport MainQuestionList from '../components/questionnaire/MainQuestionList.vue'\r\nimport FillIn from \"../components/questionnaire/FillIn\";\r\n\r\nVue.use(VueRouter);\r\n\r\n/* 解决Element ui重复点击会报错的问题 */\r\nconst originalPush = VueRouter.prototype.push\r\nVueRouter.prototype.push = function push(location) {\r\n    return originalPush.call(this, location).catch(err => err)\r\n}\r\n\r\nconst routes = [{\r\n        path: '/',\r\n        component: Face\r\n    },\r\n    {\r\n        path: '/login',\r\n        component: Login\r\n    },\r\n    {\r\n        path: '/manage',\r\n        component: Manage,\r\n        redirect: '/manage/user',\r\n        children: [\r\n            { path: '/manage/user', name: 'manage_user_page', component: UserPage },\r\n            { path: '/manage/questionnaire', name: 'manage_questionnaire_page', component: QuestionnairePage },\r\n            { path: '/manage/statistics', name: 'manage_statistics_page', component: StatisticsPage },\r\n            { path: '/manage/course', name: 'manage_course_page', component: CoursePage },\r\n            { path: '/manage/setting', name: 'manage_setting_page', component: SettingPage },\r\n            { path: '/manage/feedback', name: 'manage_feedback_page', component: FeedbackPage },\r\n            { path: '/manage/help', name: 'manage_help_page', component: HelpPage }\r\n        ]\r\n    },\r\n    {\r\n        path: '/questionnaire',\r\n        component: Questionnaire,\r\n        redirect: '/questionnaire/create',\r\n        children: [\r\n            { path: '/questionnaire/create', name: 'questionnaire_create_page', component: QuestionnaireCreatePage },\r\n            { path: '/questionnaire/edit/:qid', name: 'questionnaire_edit_page', component: MainQuestionList, props: true },\r\n            { path: '/questionnaire/fillin/:qid', name: 'questionnaire_fillin_page', component: FillIn, props: true }\r\n        ]\r\n    },\r\n]\r\n\r\nconst router = new VueRouter({\r\n    routes: routes\r\n})\r\n\r\nrouter.beforeEach((to, Form, next) => {\r\n\r\n    if (to.path.indexOf('/manage') != -1 || to.path.indexOf('/questionnaire') != -1) {\r\n        let token = VueCookies.get('token');\r\n        token = (token) ? token : window.localStorage.getItem('token');\r\n        console.log(111);\r\n        console.log(token)\r\n        if (!token) {\r\n            return next('/login');\r\n        }\r\n    } else if (to.path == '/logout') {\r\n        return;\r\n    }\r\n    next();\r\n});\r\n\r\nexport default router\r\n"]}]}